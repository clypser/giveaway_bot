<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–æ–∑–¥–∞—Ç—å –†–æ–∑—ã–≥—Ä—ã—à</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
       body {
    /* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø–æ–¥ —Å–≤–µ—Ç–ª—É—é/—Ç–µ–º–Ω—É—é —Ç–µ–º—É Telegram */
    background-color: var(--tg-theme-bg-color); 
    color: var(--tg-theme-text-color);
    font-family: sans-serif;
    padding: 20px;
    margin: 0;
}
input, button {
    width: 100%;
    padding: 10px;
    margin-bottom: 15px;
    border: none;
    background-color: var(--tg-theme-secondary-bg-color);
    color: var(--tg-theme-text-color);
    border-radius: 8px;
    box-sizing: border-box;
}
label {
    font-weight: bold;
    display: block;
    margin-bottom: 5px;
}
.hint {
    color: var(--tg-theme-hint-color);
    font-size: 12px;
    margin-bottom: 10px;
}
    </style>
</head>
<body>

    <h2>üéâ –ù–æ–≤—ã–π —Ä–æ–∑—ã–≥—Ä—ã—à</h2>

    <label>–ß—Ç–æ —Ä–∞–∑—ã–≥—Ä—ã–≤–∞–µ–º?</label>
    <input type="text" id="prize" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: iPhone 15">

    <label>–°–∫–æ–ª—å–∫–æ –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π?</label>
    <input type="number" id="winners" value="1" min="1">

    <label>ID –ö–∞–Ω–∞–ª–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å @)</label>
    <div class="hint">–ë–æ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–¥–º–∏–Ω–æ–º –≤ —ç—Ç–æ–º –∫–∞–Ω–∞–ª–µ</div>
    <input type="text" id="channel" placeholder="@my_channel">

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Telegram
        let tg = window.Telegram.WebApp;
        tg.expand(); // –†–∞—Å–∫—Ä—ã—Ç—å –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω

        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ì–ª–∞–≤–Ω—É—é –ö–Ω–æ–ø–∫—É (–≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞)
        tg.MainButton.text = "–°–æ–∑–¥–∞—Ç—å —Ä–æ–∑—ã–≥—Ä—ã—à";
        tg.MainButton.show();

        // –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –ì–ª–∞–≤–Ω—É—é –ö–Ω–æ–ø–∫—É
        tg.MainButton.onClick(function() {
            // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø–æ–ª–µ–π
            let prize = document.getElementById("prize").value;
            let winners = document.getElementById("winners").value;
            let channel = document.getElementById("channel").value;

            // –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
            if (prize === "" || channel === "") {
                tg.showAlert("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!");
                return;
            }

            // –§–æ—Ä–º–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –±–æ—Ç—É
            let data = {
                prize: prize,
                winners: winners,
                channel: channel,
                action: "create_contest" // –ú–µ—Ç–∫–∞, —á—Ç–æ–±—ã –±–æ—Ç –ø–æ–Ω—è–ª, —á—Ç–æ –¥–µ–ª–∞—Ç—å
            };

            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –±–æ—Ç—É (–∫–∞–∫ —Å–æ–æ–±—â–µ–Ω–∏–µ, –Ω–æ —Å–∫—Ä—ã—Ç–æ)
            tg.sendData(JSON.stringify(data));
        });
    </script>
</body>
</html>